<% content_for :title, "Leaderboard" %>
<style>
    .header{
        position:sticky;
        top: 0 ;
    }
</style>

<div class="container-fluid" style="background-color: black">
	<div class="row">
      <% if @winners.count > 0 %>
  		  <div class="col-md-8">
      <% else %>
        <div class="col-md-12">
      <% end %>
      <table class="table table-dark table-hover table-responsive table-bordered">
        <thead class="header">
          <tr>
            <th style="text-align: center" colspan="3">
              💥 &nbsp; Current Leaderboard &nbsp; 💥
            </th>
          </tr>
          <tr>
            <th style="text-align: center" class="cols-3">
              Rank
            </th>
            <th style="text-align: left" class="col-6">
              Name
            </th>
            <th style="text-align: center" class="cols-3">
              Points
            </th>
        </thead>
        <tbody>
          <% @competitors.each_with_index do |player, index| %>
            <tr>
              <td style="text-align: center">
                <%= rank(index + 1) %>
              </td>
              <td style="text-align: left">
                <%= player.name %>
              </td>
              <td style="text-align: center">
                <%= player.score %>
              </td>
            </tr>
          <% end %>            
        </tbody>
      </table>
    </div>

    <% if @winners.count > 0 %>
      <div class="col-md-4">
        <table class="table table-dark table-hover table-responsive table-bordered">
          <thead class="header">
            <tr>
              <th style="text-align: center">
                🏆 &nbsp; Previous Winners &nbsp; 🏆
              </th>
            </tr>
          </thead>
          <tbody>
            <% @winners.each do |player| %>
              <tr>
                <td style="text-align: center">
                  <%= player.siege_winner_place_icon %> <%= player.name %>
                </td>
              </tr>
            <% end %>            
          </tbody>
        </table>     
      </div>
    <% end %>
  </div>
</div>
